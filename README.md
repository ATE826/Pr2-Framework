Запуск
docker-compose up --build


Остановка
docker-compose down

Для тестирования:
Переходим в папку
cd .\service-orders\

Запускаем тест:
go test ./internal/services -v

Swagger:
http://localhost:8080/swagger/index.html



РОЛИ:

1. Инженеры

- Регистрировать дефекты и задачи на строительных объектах.
- Обновлять информацию по существующим заказам или задачам.
- Просматривать свои собственные заказы и задачи.

2. Менеджеры

- Назначать задачи инженерам.
- Контролировать сроки выполнения заказов.
- Формировать отчёты по задачам и прогрессу выполнения.
- Просматривать список всех заказов с фильтрацией и пагинацией.

3. Руководители / Заказчики

- Просматривать общий прогресс выполнения заказов.
- Получать отчёты по проектам и заказам.
- Не имеют права изменять задачи или заказы (только просмотр).
- Технически права доступа реализованы через JWT + проверку ролей в сервисах, чтобы каждый пользователь видел и мог делать только то, что положено его роли.



ВЗАИМОДЕЙСТВИЕ МИКРОСЕРВИСОВ:

1. API-шлюз

- Единая точка входа для всех клиентов.
- Проверяет JWT и роли.
- Проксирует запросы к нужному сервису: service_users или service_orders.
- Ограничивает частоту запросов (rate limiting).

2. Сервис пользователей (service_users)

- Управляет регистрацией, входом и профилями пользователей.
- Проверяет права пользователей на операции.
- Хранит данные в базе (через GORM).

3. Сервис заказов (service_orders)

- Создаёт, обновляет, просматривает и отменяет заказы.
- Проверяет, что пользователь имеет право редактировать заказ.
- Публикует доменные события (например, «создан заказ»).